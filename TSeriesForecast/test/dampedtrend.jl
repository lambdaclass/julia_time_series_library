module DampedTrendTest

using Test
using TSeriesForecast.DampedTrend: Damped_HLT_forecast

ϵ = 0.1

### Data

data = [17.5534, 21.8601, 23.8866, 26.9293, 26.8885, 28.8314, 30.0751, 30.9535, 30.1857, 31.5797, 32.577569, 33.477398, 39.021581, 41.386432, 41.596552, 44.657324, 46.951775, 48.728837, 51.488427,
50.026967, 60.640913, 63.3603103378, 66.355274, 68.197955, 68.1232376693, 69.7793454797, 72.597700806]

### Parameters

α = 0.762996127118297
β = 0.252626904697323
l0 = 14.5766466315971
b0 = 3.75173621136297
ϕ = 0.9
h = 15

### Expected values

y_expected = [73.7103607705972, 75.0217459812296, 76.2019926707988, 77.264214691411, 78.220214509962, 79.080614346658, 79.8549741996843, 80.551898067408, 81.1791295483594, 81.7436378812155,
82.2516953807861, 82.7089471303997, 83.1204737050518, 83.4908476222388, 83.824184147707]

### Tests

@testset "Damped Trend" begin

    @testset "Damped_HLT_forecast" begin
        @test isapprox(Damped_HLT_forecast(data, α, β, l0, b0, ϕ, h), y_expected; atol=ϵ)
    end

end

end